(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"books":[{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855652.jpg","price":"350","title":"Harry Potter and the Philosopher\'s Stone (I)","id":"9781408855652"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855669.jpg","price":"350","title":"Harry Potter and the Chamber of Secrets (II)","id":"9781408855669"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855676.jpg","price":"340","title":"Harry Potter and the Prisoner of Azkaban (III)","id":"9781408855676"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855683.jpg","price":"360","title":"Harry Potter and the Goblet of Fire (IV)","id":"9781408855683"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg","price":"380","title":"Harry Potter and the Order of the Phoenix (V)","id":"9781408855690"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855706.jpg","price":"380","title":"Harry Potter and the Half-Blood Prince (VI)","id":"9781408855706"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855713.jpg","price":"400","title":"Harry Potter and the Deathly Hallows (VII)","id":"9781408855713"},{"cover":"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/lrg/9780/2413/9780241392362.jpg","price":"260","title":"The Fork, the Witch, and the Worm","id":"9780241392362"}]}')},18:function(e,t,n){},21:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(10),o=n.n(r),i=(n(18),n(19),n(13)),a=n(9),l=n(8),d=n.n(l),b=n(11),u=n(2),j=(n(21),n(12)),h=n(3),m=n.n(h),f=n(0),p=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"cardbook col",onClick:function(){return e.selectBooks(e.book)},style:{cursor:"pointer"},children:[Object(f.jsxs)("p",{className:m()("textPrice mb-0 mt-2",{slidePrice:e.toggle}),children:[e.book.price," \u0e3f"," "]}),Object(f.jsx)("img",{className:m()({imgSlide:e.toggle}),src:e.book.cover}),Object(f.jsx)("p",{children:e.book.title})]})})},x=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"mx-3 h-100",children:[Object(f.jsx)("div",{className:"selectBook",children:e.data.map((function(t,n){return Object(f.jsx)(O,{deleteBooks:e.deleteBooks,data:t},n)}))}),Object(f.jsxs)("div",{className:"allPrice",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between my-2 mx-3",children:[Object(f.jsx)("div",{children:"Total: "}),Object(f.jsx)("div",{children:e.price})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between my-2 mx-3",children:[Object(f.jsx)("div",{children:"Discount: "}),Object(f.jsx)("div",{children:e.discountP})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between my-2 mx-3",children:[Object(f.jsx)("div",{children:"Total After Discount: "}),Object(f.jsx)("div",{children:e.price-e.discountP})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"button",className:"mx-2 btn btn-secondary",onClick:function(){return e.setToggle(!1)},children:"Cancel"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.setShowPay(!0)},children:"Pay"})]})]})]})})},O=function(e){var t=0;return void 0!==e.data.count&&(t=+e.data.price*e.data.count),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"text-start mx-3",children:e.data.title}),Object(f.jsxs)("div",{className:"mx-3 d-flex justify-content-between pt-2 pl-2 mb-3",style:{backgroundColor:"wheat",paddingLeft:"8px"},children:[Object(f.jsx)("div",{className:"",children:e.data.count}),Object(f.jsxs)("div",{style:{display:"inherit"},children:[Object(f.jsx)("p",{className:"mb-0",children:t}),Object(f.jsx)("i",{className:"material-icons px-2",style:{fontSize:"14px",cursor:"pointer"},onClick:function(){return e.deleteBooks(e.data)},children:"delete_outline"})]})]})]})},k=n(5),g=n.n(k),v=function(e){return Object(f.jsx)("div",{className:m()("modal",{"modal-dialog-centered":e.center}),style:{display:e.show?"block":"none",background:"rgba(0,0,0,0.4)"},children:Object(f.jsx)("div",{className:m()("modal-dialog animated fadeInDown",e.size),children:e.children})})},y=function(e){var t=["0","1","2","3","4","5","6","7","8","9"],n=c.useState(""),s=Object(u.a)(n,2),r=s[0],o=s[1];return c.useMemo((function(){e.success&&o("")}),[e]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(v,{show:e.show,size:"modal-lg",children:Object(f.jsx)("div",{className:"modal-content p-5",children:e.success?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:"material-icons px-2",style:{fontSize:"140px",cursor:"pointer",color:"green"},children:"check_circle"}),Object(f.jsx)("h1",{children:"Successful"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Money"}),Object(f.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"cash",onChange:function(e){e.preventDefault(),o(e.target.value)},onKeyDown:function(e){"Backspace"!==e.key&&!t.includes(e.key)&&e.preventDefault()},value:r}),Object(f.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(f.jsx)("label",{children:"Paying"}),Object(f.jsx)("label",{children:e.price})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("label",{children:"Change"}),""!==r?Object(f.jsx)("label",{children:+r-e.price}):Object(f.jsx)("label",{children:"0"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary",style:{marginRight:"20px"},onClick:function(){e.setShowPay(!1),e.setSuccess(!1),e.setToggle(!0),o("")},children:"Cancel"}),Object(f.jsx)("button",{type:"submit",style:{marginLeft:"20px"},className:"btn btn-primary ",disabled:+r<e.price,onClick:function(){return e.setSuccess(!0)},children:"Pay"})]})]})})})})},w={2:10,3:11,4:12,5:13,6:14,7:15};var N=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(0),o=Object(u.a)(r,2),l=o[0],h=o[1],O=Object(c.useState)([]),k=Object(u.a)(O,2),N=(k[0],k[1]),S=Object(c.useState)(!1),P=Object(u.a)(S,2),C=P[0],F=P[1],I=Object(c.useState)(""),B=Object(u.a)(I,2),T=B[0],D=B[1],H=Object(c.useState)(!1),z=Object(u.a)(H,2),L=z[0],M=z[1],V=Object(c.useState)(!1),E=Object(u.a)(V,2),J=E[0],R=E[1],A=Object(c.useState)(0),W=Object(u.a)(A,2),_=W[0],G=W[1],K=Object(c.useState)(!1),q=Object(u.a)(K,2),Q=q[0],U=q[1];Object(c.useMemo)((function(){Q&&(s([]),setTimeout((function(){U(!1),F(!1),R(!1)}),1e3)),J||C||s([]),C&&(document.body.style.overflow="hidden"),Q||C||J||(document.body.style.overflow="auto")}),[Q,C,J]);var X=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://akita-examination.s3-ap-southeast-1.amazonaws.com/shiba-book-shop.json",e.next=3,fetch("https://akita-examination.s3-ap-southeast-1.amazonaws.com/shiba-book-shop.json");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,N(n.books);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){X()}),[]);var Y=function(e){var t=[],n=g.a.filter(e,(function(e){return"9780241392362"!==e.id})),c=n.reduce((function(e,t){return e>t.count?e:t.count}),0);if(c>1&&n.length>1){for(var s=c;s>0;s--){var r=n.map((function(e){return e.count<=0?0:+e.price})),o=n.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{count:e.count-1})}));n=o,t.push(r)}!function(e){var t=0;e.map((function(e){var n=g.a.filter(e,(function(e){return 0!==e})).length,c=e.reduce((function(e,t){return e+t}),0);n>1&&(t+=w[n]/100*c)})),h(t)}(t)}else h(0)},Z=function(e){0!==g.a.filter(n,(function(t){return(null===t||void 0===t?void 0:t.id)===e.id})).length&&0!==n.length?e.count=e.count+1:e.count=1;var t=[].concat(Object(i.a)(n),[e]),c=t.map((function(e){return e.id})).map((function(e,t,n){return n.indexOf(e)===t&&t})).filter((function(e){return t[e]})).map((function(e){return t[e]}));Y(c),s(c),F(!0)};return Object(c.useEffect)((function(){var e=n.map((function(e){return e.count*+e.price})).reduce((function(e,t){return e+t}),0);G(e)}),[n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:m()("text-center head py-3",{headerShop:C}),children:[Object(f.jsx)("h1",{className:"mb-2 mt-4",children:"Shiba Book Store"}),Object(f.jsx)("div",{className:"displayRow",children:Object(f.jsx)("div",{className:m()("row mx-0",{toggleSide:C}),children:j.books.map((function(e,t){return Object(f.jsx)(p,{book:e,selectBooks:Z,toggle:C},t)}))})}),Object(f.jsxs)("div",{className:m()("sidebar pt-5",{closeSlide:!C}),children:[Object(f.jsx)("h2",{children:"Order"}),Object(f.jsx)(x,{data:n,showPay:J,setShowPay:R,price:_,deleteBooks:function(e){M(!0),D(e.id)},setToggle:F,discountP:l}),Object(f.jsx)(y,{show:J,setToggle:F,setShowPay:R,price:_-l,success:Q,setSuccess:U})]})]}),Object(f.jsx)(v,{show:L,size:"modal-md",children:Object(f.jsxs)("div",{className:"modal-content p-5 text-center",children:[Object(f.jsx)("p",{children:"Do you want delete this selected book?"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary",style:{marginRight:"20px"},onClick:function(){return M(!1)},children:"Cancel"}),Object(f.jsx)("button",{type:"submit",style:{marginLeft:"20px"},className:"btn btn-primary ",onClick:function(){var e=g.a.filter(n,(function(e){return e.id!==T}));0===e.length&&F(!1),Y(e),s(e),M(!1)},children:"Confirm"})]})]})})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.2e302323.chunk.js.map